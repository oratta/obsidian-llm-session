### 基本機能

- ObsidianのVault内で使うLLMとのチャット
- Obsidianのプラグインとして開発する
- Claude CodeやCodexのようなサブスク系のLLMサービスを使う
- プロジェクト(サブディレクトリ)毎にそこにあるファイルの情報を把握して知的作業を手伝う
- 起動すると、対象のディレクトリを聞かれる
- 聴かれたディレクトリ内でClaude codeのセッションを開始する
- ユーザはチャットUIでやり取りができる
- チャットUIではプルダウンでディレクトリを切り替えて作業できる
    - ディレクトリ毎に別のClaude codeセッションが用意される
- 最初に起動した時にルートに用意されているルールファイルのmdファイルを対象ディレクトリにコピーする
- 各セッションでclaude codeはルールファイルにしたがう
- ルールファイルはmdファイルなのでobsidian内で加筆修正できる

### 汎用チャット機能

- チャットUI内でLLMとチャットできる
- 選択されたディレクトリ内の全てのファイルを基本的に参照する
    - チャット開始前に、contextsディレクトリを作成して、ディレクトリ内の重要な内容をサマライズしたコンテキストファイルを作成する(サイズが大きくなりそうなら意味別に複数のファイルに分ける)
- プルダウンで既存の別のディレクトリに切り替えても、セッションは生きたままなので、再度ディレクトリを切り替えればセッションの続きからできる
- 複数のviewを作って複数のセッションを同時に使える
- MVPではただのコンソール画面でも良いかも。チャットUI用意するのが大変なら

### ノートに対するチャット機能

- ノートを選択した状態でObsidian LLMを「Obsidian LLM: Talk about this page」のようなメニューを起動すると、該当ノートが所属するディレクトリのこのセッション内にノートリンクが指定された状態でチャットが起動する。
- ノートの特定の箇所を選択して、右クリックから起動できる。 ノートリンクと、選択した箇所がペーストされた状態で該当ノートが所属するディレクトリのセッションが起動する